(this["webpackJsonphw-03-image-finder"]=this["webpackJsonphw-03-image-finder"]||[]).push([[0],{18:function(e,t,a){e.exports=a(49)},23:function(e,t,a){},24:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){e.exports=a.p+"static/media/loadingGif.b051a9bb.gif"},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(15),r=a.n(o),l=a(2),c=a(3),s=a(5),m=a(4),u=a(17),d=(a(23),function(e){var t=e.onSubmit,a=Object(n.useState)(""),o=Object(u.a)(a,2),r=o[0],l=o[1];return i.a.createElement("header",{className:"Searchbar"},i.a.createElement("form",{className:"SearchForm",onSubmit:function(e){t(r,e)}},i.a.createElement("button",{type:"submit",className:"SearchForm-button"},i.a.createElement("span",{className:"SearchForm-button-label"},"Search")),i.a.createElement("input",{value:r,onChange:function(e){l(e.target.value)},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})))}),h=(a(24),a(25),function(e){var t=e.items,a=e.openModal,n=function(e){a(e.target.dataset.large)};return t.map((function(e){return i.a.createElement("li",{key:e.id,className:"ImageGalleryItem"},i.a.createElement("img",{onClick:n,"data-large":e.largeImageURL,src:e.webformatURL,alt:e.tags,className:"ImageGalleryItem-image"}))}))}),f=function(e){var t=e.items,a=e.openModal;return i.a.createElement("ul",{className:"ImageGallery"},i.a.createElement(h,{items:t,openModal:a}))},p=(a(26),function(){return i.a.createElement("div",{className:"loadingPic"},i.a.createElement("img",{src:a(27),alt:"loading...",width:"250",height:"250"}))}),g=(a(28),function(e){var t=e.findMore;return i.a.createElement("div",{className:"buttonWrapper"},i.a.createElement("button",{className:"Button",onClick:t},"Find more!"))}),b=(a(29),a(30),a(16)),v=a.n(b),E=(a(48),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).handleKeyPress=function(t){"Escape"===t.code&&e.props.closeModal()},e.handleClick=function(){e.props.closeModal()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillMount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Overlay",onClick:this.handleClick,onKeyPress:this.handleKeyPress},i.a.createElement("div",{className:"Modal"},i.a.createElement("img",{src:this.props.url,alt:"img"})))}}]),a}(n.Component)),y=12,S=0,k=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleSubmit=function(t,a){a.preventDefault(),e.setState({find:t,items:[]})},e.apiService=function(){e.setState({isLoading:!0}),v.a.get("https://pixabay.com/api/?q=".concat(e.state.find,"&page=1&key=").concat("16377797-6d9ebd48227d507be381d4be6","&image_type=photo&orientation=horizontal&per_page=").concat(y)).then((function(t){return e.setState({items:t.data.hits})})).catch((function(e){return console.error(e)})).finally((function(){return e.setState({isLoading:!1})}))},e.handleOpen=function(t){e.setState({modalIsVisible:!0,modalImage:t})},e.handleClose=function(){e.setState({modalIsVisible:!1})},e.handeFindMore=function(){y+=y,S=document.documentElement.scrollHeight-140,e.apiService()},e.state={find:"",isLoading:!1,items:[],modalIsVisible:!1,modalImage:""},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.find,a=e.items,n=e.isLoading;""===t||0!==a.length||n||(y=12,this.apiService()),a.length>12&&window.scrollTo({top:S,behavior:"smooth"})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(d,{onSubmit:this.handleSubmit}),i.a.createElement(f,{className:"ImageGallery",items:this.state.items,openModal:this.handleOpen}),this.state.isLoading&&i.a.createElement(p,null),this.state.items.length>0&&i.a.createElement(g,{findMore:this.handeFindMore}),this.state.modalIsVisible&&i.a.createElement(E,{url:this.state.modalImage,closeModal:this.handleClose}))}}]),a}(n.Component);r.a.render(i.a.createElement(k,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.6e049b3f.chunk.js.map